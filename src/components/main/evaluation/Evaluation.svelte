<script lang="ts">
    import SubjectSelector from "./SubjectSelector.svelte";
    import StudentList from "./StudentList.svelte";
    import Feedback from "./Feedback.svelte";
    import { selectedQuestionID, selectedStudents } from "@lib/store/evaluationStore";
    let isFeedbackOpened = false

    function openFeedback(){
        isFeedbackOpened = true
    }


</script>

<div class="flex flex-col p-6 items-center justify-center min-h-screen">
    <div class="w-full mx-auto p-6 bg-main-bg3 shadow-md rounded-lg">
        <h1 class="text-2xl font-semibold mb-4">ğŸ“„ í•™ìƒ í‰ê°€ ìƒì„±</h1>

        <!-- âœ… ë¶€ëª¨ divì— flex ì¶”ê°€ -->
        <div class="flex w-full gap-4 mt-6">
            <!-- âœ… ì¢Œì¸¡ ì˜ì—­ (ê³¼ëª© ì„ íƒ) -->
            <div class="w-3/4">
                <SubjectSelector />
            </div>

            <!-- âœ… ìš°ì¸¡ ì˜ì—­ (í•™ìƒ ë¦¬ìŠ¤íŠ¸) -->
            <div class="w-1/4">
                <StudentList />
            </div>
        </div>
        <div class="flex items-center space-x-2">
            <span>ê¸¸ì´</span>
            <input defaultValue="120" type="number" class="w-20 px-2 py-1 border rounded-md">
            <span>ì ì´ìƒìœ¼ë¡œ ì‘ì„±ì„ ìš”ì²­í•©ë‹ˆë‹¤</span>
            <button on:click={openFeedback} disabled={$selectedQuestionID.length===0 || $selectedStudents.length===0} class="cursor-pointer px-4 py-2 btn-accent rounded-lg">í‰ê°€ ìƒì„±</button>
        </div>
        {#if isFeedbackOpened}
        <Feedback/>
        {/if}
        </div>
</div>
